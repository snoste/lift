\section{Translation of the Requirements into Interaction}

\begin{enumerate}
	\item Only one gate can be open at a time
		\begin{itemize}
			\item It is only possible to send an openGate(GateID$_i$) to open Gate $i$ after a getGateState(GateID$_j$, $ \mathbb{B} $) delivers $\mathbb{B} = false$ and openGate(GateID$_j$) has not been issued in the meantime, for $i \neq j$
		\end{itemize}
	
	\item Only one valve can be open at a time
	
		\begin{itemize}
			\item It is only possible to send an openValve(ValveID$_i$) to open Valve $i$ after a getValveState(ValveID$_j$, $ \mathbb{B} $) delivers $\mathbb{B} = false$ and openValve(ValveID$_j$) has not been issued in the meantime, for $i \neq j$
		\end{itemize}
	
	\item A valve and a gate at different levels can never be open at the same time
		\begin{itemize}
			\item It is only possible to send an openGate(GateID$_i$) to open Gate $i$ after a getValveState(ValveID$_j$, $ \mathbb{B} $) delivers $\mathbb{B} = false$ and openValve(ValveID$_j$) has not been issued in the meantime, for Gate $i$ and Valve $j$ are on opposite sides of the lift 
			\item It is only possible to send an openValve(ValveID$_i$) to open Valve $i$ after a getGateState(GateID$_j$, $ \mathbb{B} $) delivers $\mathbb{B} = false$ and openGate(GateID$_j$) has not been issued in the meantime, for Valve $i$ and Gate $j$ are on opposite sides of the lift
		\end{itemize}
	
	%\item After a ship has entered the sluice the gate will close
	%\begin{itemize}
	%	\item it is not possible to send closeGate(gate\_ID) if getShipPresence(pos\_(same(ID).1),false)	
	%\end{itemize}
	
	\item A gate can only close if there is no ship in between its doors
	\begin{itemize}
		\item It is not possible to send closeGate(GateID$_i$) to close Gate $i$ unless getGateSensor(GateID$_i$, $\mathbb{B}$) returns $\mathbb{B} = false$ and no other action has been issued in the meantime
	\end{itemize}
	
	\item A gate can only open if the water level on both sides is equal
	\begin{itemize}
		\item It is not possible to send openGate(GateID$_i$) to open Gate $i$ unless compareWaterlevel(ContainerID$_j$, $\mathbb{B}$) returns $\mathbb{B} = true$ and no other action has been issued in the meantime, for gate $i$ and container $j$ are on the same side of the lift
	\end{itemize}
	
	\item Without a ship in the system the system will go into idle
	\begin{itemize}
		\item If getShipPresence(PosID$_i$, $\mathbb{B}$) returns $\mathbb{B} = false$ for all position IDs PosID$_i$:
			\begin{itemize}
				\item For all gate IDs GateID$_i$: If getGateState(GateID$_i$, $\mathbb{B}$) returns $\mathbb{B} = true$, closeGate(GateID$_i$) must be issued
				\item For all signal IDs SignalID$_i$: If getSignalState(SignalID$_i$, $\mathbb{B}$) returns $\mathbb{B} = true$, haltSignal(SignalID$_i$, true) must be issued
				\item Otherwise no action must happen
			\end{itemize}
		%\item if the system detect that there are not ship (checking receivedShipPresence\_posID=false for all the 4 position) the system has to close all the door using closeGate\_gateID action an also turn all the signal light to red by the action setSignalHold\-signalID
	\end{itemize}
	
	
	\item Entering signal light:
		\begin{enumerate}
			\item The signal can never be off nor indicate hold and pass at the same time
				\begin{itemize}
					\item passSignal(SignalID$_i$, true) has to be followed directly by a haltSignal(SignalID$_i$, false)
					\item haltSignal(SignalID$_i$, true) has to be followed directly by a passSignal(SignalID$_i$, false)
					\item passSignal(SignalID$_i$, false) can only be issued directly after haltSignal(SignalID$_i$, true)
					\item haltSignal(SignalID$_i$, false) can only be issued directly after passSignal(SignalID$_i$, true)
				\end{itemize}
			\item The signal can only indicate pass if the gate is completely opened
				\begin{itemize}
					\item It is only possible to send a passSignal(SignalID$_i$, true) to set signal $i$ to pass after a getGateState(GateID$_j$, $ \mathbb{B} $) delivers $\mathbb{B} = true$ and closeGate(GateID$_j$) has not been issued in the meantime, for signal $i$ and gate $j$ are on the same side of the lift
				\end{itemize}
			\item The signal can only indicate pass if there is no ship in the lift
				\begin{itemize}
					\item It is only possible to send a passSignal(SignalID$_i$, true) to set signal $i$ to pass after getShipPresence(PosID, $\mathbb{B}$) delivers $\mathbb{B} = false$ for PosID = ID of Container X.1
				\end{itemize}
			
		\end{enumerate}
	\item Leaving signal light:
		\begin{enumerate}
			\item The signal can never be off nor indicate hold and pass at the same time
				\begin{itemize}
					\item passSignal(SignalID$_i$, true) has to be followed directly by a haltSignal(SignalID$_i$, false)
					\item haltSignal(SignalID$_i$, true) has to be followed directly by a passSignal(SignalID$_i$, false)
					\item passSignal(SignalID$_i$, false) can only be issued directly after haltSignal(SignalID$_i$, true)
					\item haltSignal(SignalID$_i$, false) can only be issued directly after passSignal(SignalID$_i$, true)
				\end{itemize}
			\item The signal can only indicate pass if the gate is completely opened
				\begin{itemize}
					\item It is only possible to send a passSignal(SignalID$_i$, true) to set signal $i$ to pass after a getGateState(GateID$_j$, $ \mathbb{B} $) delivers $\mathbb{B} = true$ and closeGate(GateID$_j$) has not been issued in the meantime, for signal $i$ and gate $j$ are on the same side of the lift
				\end{itemize}
		\end{enumerate}
\end{enumerate}
